---
title: Integrate Facebook with Web3Auth
image: "guides-banners/facebook.png"
description: Learn how to use Web3Auth with Facebook for social login
type: guide
tags: [web, facebook, custom authentication, react, evm, plug and play]
date: July 18, 2022
author: Web3Auth Team
communityPortalTopicId: 49
---

import SEO from "@site/src/components/SEO";
import Web3AuthPrerequisites from "@site/src/common/guides/_web3auth-prerequisites.mdx";
import SetupWeb3AuthDashboard from "@site/src/common/guides/_setup-web3auth-dashboard.mdx";
import FacebookToggle from "@site/static/images/dashboard/authentication-social-connections.png";
import FacebookConnection from "@site/static/images/dashboard/facebook-connection.png";

<SEO
  title="Integrate Facebook with Web3Auth"
  description="Learn how to use Web3Auth with Facebook for social login in your React Application"
  image="https://web3auth.io/docs/guides-banners/facebook.png"
  slug="/guides/facebook"
/>

This guide will cover how to integrate Facebook with Web3Auth using the new Web3Auth v10 hooks-based
approach. You'll learn how to set up both services for seamless authentication and wallet creation.

## Quick Start

```bash
npx degit Web3Auth/web3auth-pnp-examples/custom-authentication/single-connection/facebook-implicit-example w3a-facebook-demo && cd w3a-facebook-demo && npm install && npm run dev
```

## How it works?

When integrating Web3Auth with Facebook Login, the flow follows these steps:

1. **Authentication with Facebook**: The user logs in to your application using their Facebook
   credentials
2. **Token Generation**: Upon successful authentication, Facebook provides access to user's profile
3. **Web3Auth Verification**: Web3Auth verifies the authentication against your configured Facebook
   Connection
4. **Key Generation**: Web3Auth generates a private key for the user in a self-custodial way
5. **Blockchain Access**: With this key, users can interact with various blockchains without needing
   to manage seed phrases

This flow combines Facebook's familiar authentication system with Web3Auth's key management
infrastructure, enabling seamless onboarding to Web3 applications.

## Prerequisites

<Web3AuthPrerequisites />

- A [Facebook Developer](https://developers.facebook.com/docs/development/create-an-app) account to
  be used as Login provider for Web3Auth.

## Setup

### Setup your Facebook App

1. Follow Facebook's instructions to
   [create a new app](https://developers.facebook.com/docs/development/create-an-app).
2. When creating an app, make sure to select `Consumer` from this screen to use Facebook Login.
   ![Facebook OAuth2.0 App Dashboard](/guides/social-providers/facebook/facebook-app.png)

3. On the next screen, you'll be presented with different products you can integrate into your
   Facebook app. Click **"Set Up"** in the card representing the **Facebook Login** capability.

   ![Facebook OAuth2.0 App Dashboard](/guides/social-providers/facebook/facebook-login-setup.png)

4. Paste the following as a redirect URI into the "Valid OAuth Redirect URIs" field.

   - https://auth.web3auth.io/auth

   ![Facebook OAuth2.0 App Dashboard](/guides/social-providers/facebook/facebook-login-settings-oauth.png)

5. Obtain the "App ID" and "App Secret" from the **Settings > Basic** screen.

   ![Facebook OAuth2.0 App Dashboard](/guides/social-providers/facebook/facebook-app-id-secret.png)

### Setup Web3Auth

<SetupWeb3AuthDashboard />

:::success Enable on Dashboard

To use this feature, please enable `Facebook` from the Social Connections section in the
[Web3Auth Dashboard](https://dashboard.web3auth.io).

<div style={{ display: "flex", margin: "20px 0" }}>
  <img
    src={FacebookToggle}
    style={{
      maxWidth: "800px",
      borderRadius: "8px",
      boxShadow: "0 2px 6px rgba(0, 0, 0, 0.1)",
    }}
    alt="Toggle Facebook Connection on Dashboard"
  />
</div>

> By default, Web3Auth uses its own pre-configured credentials for Facebook login.

:::

#### Create a Facebook Connection

Follow these steps to create a Facebook connection:

1. Visit the [Web3Auth Dashboard](https://dashboard.web3auth.io).
2. Go to the `Social Connections` section.
3. Click on the `Settings` icon near the Facebook connection.
4. Enter a `Facebook Connection ID` (e.g., "w3a-facebook-demo").
5. Enter the `Facebook App ID` from your Facebook Developer dashboard.
6. Enter the `Facebook App Secret` from your Facebook Developer dashboard.
7. Toggle the `Private Client` option if needed.
8. Review all the settings to ensure accuracy.
9. Check the `Active` toggle to enable the connection.
10. Finally, click on the `Add Connection` button.

<div style={{ display: "flex", margin: "20px 0" }}>
  <img
    src={FacebookConnection}
    style={{
      maxWidth: "600px",
      borderRadius: "8px",
      boxShadow: "0 2px 6px rgba(0, 0, 0, 0.1)",
    }}
    alt="Facebook Connection"
  />
</div>

## Using Web3Auth with Facebook

### Installation

Install the required dependencies:

```bash
# Core Web3Auth packages
npm install @web3auth/modal

# For blockchain interactions
npm install wagmi viem @tanstack/react-query
```

### Setting up Web3Auth Provider

First, create a configuration file for Web3Auth (e.g., `web3authContext.tsx`):

```tsx
import { WEB3AUTH_NETWORK, type Web3AuthOptions } from "@web3auth/modal";

// Get your client ID from https://dashboard.web3auth.io
const clientId = import.meta.env.VITE_WEB3AUTH_CLIENT_ID || "";

// Instantiate SDK
const web3AuthOptions: Web3AuthOptions = {
  clientId,
  web3AuthNetwork: WEB3AUTH_NETWORK.SAPPHIRE_MAINNET,
};

const web3AuthContextConfig = {
  web3AuthOptions,
};

export default web3AuthContextConfig;
```

Then set up the Web3Auth provider in your application:

```tsx
import React from "react";
import ReactDOM from "react-dom/client";
// Setup Web3Auth Provider
import { Web3AuthProvider } from "@web3auth/modal/react";
import web3AuthContextConfig from "./web3authContext";
// Setup Wagmi Provider for blockchain interactions
import { WagmiProvider } from "@web3auth/modal/react/wagmi";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";

import App from "./App";

const queryClient = new QueryClient();

ReactDOM.createRoot(document.getElementById("root") as HTMLElement).render(
  <React.StrictMode>
    <Web3AuthProvider config={web3AuthContextConfig}>
      <QueryClientProvider client={queryClient}>
        <WagmiProvider>
          <App />
        </WagmiProvider>
      </QueryClientProvider>
    </Web3AuthProvider>
  </React.StrictMode>,
);
```

### Implementing Facebook Authentication

In your main application component, use Web3Auth hooks for authentication with Facebook:

```tsx
import "./App.css";
import { useWeb3AuthConnect, useWeb3AuthDisconnect, useWeb3AuthUser } from "@web3auth/modal/react";
import { WALLET_CONNECTORS, AUTH_CONNECTION } from "@web3auth/modal";
import { useAccount } from "wagmi";
import { SendTransaction } from "./components/sendTransaction";
import { Balance } from "./components/getBalance";
import { SwitchChain } from "./components/switchNetwork";

function App() {
  const { connectTo, isConnected, connectorName } = useWeb3AuthConnect();
  const { disconnect } = useWeb3AuthDisconnect();
  const { userInfo } = useWeb3AuthUser();
  const { address } = useAccount();

  const loginWithFacebook = async () => {
    await connectTo(WALLET_CONNECTORS.AUTH, {
      authConnection: AUTH_CONNECTION.FACEBOOK,
      authConnectionId: "w3a-facebook-demo", // Your Connection ID from Web3Auth Dashboard
    });
  };

  function uiConsole(...args: any[]): void {
    const el = document.querySelector("#console>p");
    if (el) {
      el.innerHTML = JSON.stringify(args || {}, null, 2);
      console.log(...args);
    }
  }

  const loggedInView = (
    <>
      <h2>Connected to {connectorName}</h2>
      <div>{address}</div>
      <div className="flex-container">
        <div>
          <button onClick={() => uiConsole(userInfo)} className="card">
            Get User Info
          </button>
        </div>
        <div>
          <button onClick={() => disconnect()} className="card">
            Log Out
          </button>
        </div>
      </div>
      <SendTransaction />
      <Balance />
      <SwitchChain />
    </>
  );

  const unloggedInView = (
    <div className="flex-container">
      <button onClick={loginWithFacebook} className="card">
        Login with Facebook
      </button>
    </div>
  );

  return (
    <div className="container">
      <h1 className="title">
        <a target="_blank" href="https://web3auth.io/docs" rel="noreferrer">
          Web3Auth{" "}
        </a>
        & Facebook Integration
      </h1>

      <div className="grid">{isConnected ? loggedInView : unloggedInView}</div>
      <div id="console" style={{ whiteSpace: "pre-line" }}>
        <p style={{ whiteSpace: "pre-line" }}></p>
      </div>

      <footer className="footer">
        <a
          href="https://github.com/Web3Auth/web3auth-pnp-examples/tree/main/custom-authentication/single-connection/facebook-implicit-example"
          target="_blank"
          rel="noopener noreferrer"
        >
          Source code
        </a>
      </footer>
    </div>
  );
}

export default App;
```

### Interacting with the Blockchain

With Web3Auth v10, blockchain interactions are simplified using the wagmi hooks. Here are examples
of components you can use:

#### Getting Balance

```tsx
// components/getBalance.tsx
import { useAccount, useBalance } from "wagmi";
import { formatUnits } from "viem";

export function Balance() {
  const { address } = useAccount();
  const { data, isLoading, error } = useBalance({ address });

  return (
    <div>
      <h2>Balance</h2>
      <div>
        {data?.value !== undefined && `${formatUnits(data.value, data.decimals)} ${data.symbol}`}
        {isLoading && "Loading..."}
        {error && "Error: " + error.message}
      </div>
    </div>
  );
}
```

#### Sending Transactions

```tsx
// components/sendTransaction.tsx
import { FormEvent } from "react";
import { useWaitForTransactionReceipt, useSendTransaction, BaseError } from "wagmi";
import { Hex, parseEther } from "viem";

export function SendTransaction() {
  const { data: hash, error, isPending, sendTransaction } = useSendTransaction();

  async function submit(e: FormEvent<HTMLFormElement>) {
    e.preventDefault();
    const formData = new FormData(e.target as HTMLFormElement);
    const to = formData.get("address") as Hex;
    const value = formData.get("value") as string;
    sendTransaction({ to, value: parseEther(value) });
  }

  const { isLoading: isConfirming, isSuccess: isConfirmed } = useWaitForTransactionReceipt({
    hash,
  });

  return (
    <div>
      <h2>Send Transaction</h2>
      <form onSubmit={submit}>
        <input name="address" placeholder="Address" required />
        <input name="value" placeholder="Amount (ETH)" type="number" step="0.000000001" required />
        <button disabled={isPending} type="submit">
          {isPending ? "Confirming..." : "Send"}
        </button>
      </form>
      {hash && <div>Transaction Hash: {hash}</div>}
      {isConfirming && "Waiting for confirmation..."}
      {isConfirmed && "Transaction confirmed."}
      {error && <div>Error: {(error as BaseError).shortMessage || error.message}</div>}
    </div>
  );
}
```

#### Switching Networks

```tsx
// components/switchNetwork.tsx
import { useChainId, useSwitchChain } from "wagmi";

export function SwitchChain() {
  const chainId = useChainId();
  const { chains, switchChain, error } = useSwitchChain();

  return (
    <div>
      <h2>Switch Chain</h2>
      <h3>Connected to {chainId}</h3>
      {chains.map((chain) => (
        <button
          disabled={chainId === chain.id}
          key={chain.id}
          onClick={() => switchChain({ chainId: chain.id })}
          type="button"
        >
          {chain.name}
        </button>
      ))}
      {error?.message}
    </div>
  );
}
```

## Example code

The code for the application we developed in this guide can be found in the
[Web3Auth Facebook Example](https://github.com/Web3Auth/web3auth-pnp-examples/tree/main/custom-authentication/single-connection/facebook-implicit-example).
Check it out and try running it locally yourself!

## Questions?

Ask us on [Web3Auth's Community Support Portal](https://web3auth.io/community)
